# ğŸ“¥ éšæ®µä¸€ï¼šæ•¸æ“šè¼‰å…¥å±¤

[ğŸ”„ è¿”å›æ–‡æª”ç¸½è¦½](../README.md) > éšæ®µä¸€

## ğŸ“– éšæ®µæ¦‚è¿°

**ç›®æ¨™**ï¼šå¾ 8,837 é¡†è¡›æ˜Ÿè¼‰å…¥ TLE æ•¸æ“šä¸¦é€²è¡Œç´”ç²¹çš„æ•¸æ“šé©—è­‰èˆ‡æ™‚é–“åŸºæº–å»ºç«‹
**è¼¸å…¥**ï¼šTLE æª”æ¡ˆï¼ˆç´„ 2.2MBï¼‰
**è¼¸å‡º**ï¼šé©—è­‰éçš„TLEæ•¸æ“š + æ™‚é–“åŸºæº– â†’ è¨˜æ†¶é«”å‚³éè‡³éšæ®µäºŒ
**è™•ç†æ™‚é–“**ï¼š< 30 ç§’ (åŸºæ–¼æ–°æ¶æ§‹ï¼šç´”æ•¸æ“šè¼‰å…¥ç„¡è¨ˆç®—) âš¡ **å¤§å¹…å„ªåŒ–**
**å¯¦éš›è™•ç†æ•¸é‡**ï¼š8,183 Starlink + 653 OneWeb = 8,837 é¡†è¡›æ˜Ÿ
**é‡è¦**ï¼šéšæ®µä¸€åƒ…è² è²¬æ•¸æ“šè¼‰å…¥å’Œé©—è­‰ï¼Œæ‰€æœ‰è»Œé“è¨ˆç®—ç§»è‡³éšæ®µäºŒåŸ·è¡Œ

### ğŸ—ï¸ v2.0 é‡æ§‹æ¶æ§‹ (2025-09-20)

**æ¶æ§‹é©æ–°**: æ•¸æ“šè¼‰å…¥èˆ‡è¨ˆç®—é‚è¼¯å®Œå…¨åˆ†é›¢ï¼Œå»ºç«‹æ¸…æ™°çš„è·è²¬é‚Šç•Œï¼š
- **è·è²¬å–®ä¸€åŒ–**: å°ˆæ³¨æ–¼TLEæ•¸æ“šè¼‰å…¥ã€é©—è­‰å’Œæ™‚é–“åŸºæº–å»ºç«‹
- **æ€§èƒ½å¤§å¹…æå‡**: ç§»é™¤è¨ˆç®—é‚è¼¯å¾Œè™•ç†æ™‚é–“å¾2.8åˆ†é˜é™è‡³<30ç§’
- **æ¸…æ™°æ•¸æ“šæµ**: ç‚ºéšæ®µäºŒæä¾›æ¨™æº–åŒ–ã€å·²é©—è­‰çš„TLEæ•¸æ“š
- **æ™‚é–“åŸºæº–æ­£ç¢ºæ€§**: å»ºç«‹TLE epochæ™‚é–“åŸºæº–ä¾›å¾ŒçºŒéšæ®µç¹¼æ‰¿

**é—œéµæ”¹é€²**:
- æ¨¡çµ„åŒ–è¨­è¨ˆï¼šTLE Loader + Data Validator + Time Reference + Main Processor
- æ¨™æº–åŒ–è¼¸å‡ºï¼šStage1Output æ ¼å¼ä¾›éšæ®µäºŒä½¿ç”¨
- å­¸è¡“æ¨™æº–ä¿æŒï¼šä¿ç•™æ‰€æœ‰æ™‚é–“åŸºæº–å’Œæ•¸æ“šå“è³ªè¦æ±‚

### âœ… v2.0 æ•¸æ“šè¼‰å…¥å±¤å®Œæˆç‹€æ…‹ (2025-09-20)

**é‡æ§‹å®Œæˆé …ç›®**:
- âœ… **è»Œé“è¨ˆç®—ç§»é™¤**: Stage 1å°ˆæ³¨ç´”æ•¸æ“šè¼‰å…¥å’Œé©—è­‰
- âœ… **è·è²¬é‚Šç•Œæ¸…æ™°**: å–®ä¸€è·è²¬åŸå‰‡ï¼Œåƒ…è² è²¬æ•¸æ“šå±¤å·¥ä½œ
- âœ… **ä»£ç¢¼å¤§å¹…ç°¡åŒ–**: 2,178è¡Œ â†’ ~400è¡Œ (82%æ¸›å°‘)
- âœ… **TLEæ™‚é–“åŸºæº–å»ºç«‹**: ç‚ºå¾ŒçºŒéšæ®µæä¾›æ­£ç¢ºçš„è¨ˆç®—åŸºæº–æ™‚é–“
- âœ… **æ¨¡çµ„åŒ–æ¶æ§‹**: 4å€‹æ¸…æ™°çµ„ä»¶åˆ†åˆ¥è² è²¬ä¸åŒåŠŸèƒ½

### ğŸ¯ v2.0 æ•¸æ“šè¼‰å…¥å±¤è¨­è¨ˆ (å·²å®Œæˆ)

**æ ¸å¿ƒé‡æ§‹ç›®æ¨™**: å»ºç«‹å¯é çš„æ™‚é–“åŸºæº–ç¹¼æ‰¿æ©Ÿåˆ¶ï¼Œç¢ºä¿æ‰€æœ‰å…­éšæ®µä½¿ç”¨ä¸€è‡´çš„è¨ˆç®—åŸºæº–

#### ğŸš¨ Stage 1 æ™‚é–“åŸºæº–è¼¸å‡ºè²¬ä»» (å¼·åˆ¶è¦æ±‚)

**Stage 1 å¿…é ˆæ­£ç¢ºè¼¸å‡ºæ™‚é–“åŸºæº–ä¿¡æ¯ä¾›å¾ŒçºŒéšæ®µç¹¼æ‰¿**:

```python
# âœ… v6.0 è¦æ±‚ï¼šStage 1 metadata è¼¸å‡ºæ ¼å¼
{
  "metadata": {
    "calculation_base_time": "2025-09-02T12:34:56.789Z",  # ä¾†è‡ªTLE epochæ™‚é–“
    "tle_epoch_time": "2025-09-02T12:34:56.789Z",         # åŸå§‹TLE epochæ™‚é–“
    "time_base_source": "tle_epoch_derived",              # æ™‚é–“åŸºæº–ä¾†æºæ¨™è­˜
    "tle_epoch_compliance": true,                         # TLE epochåˆè¦æ€§æ¨™è¨˜
    "stage1_time_inheritance": {                          # v6.0 æ–°å¢ï¼šæ™‚é–“ç¹¼æ‰¿ä¿¡æ¯
      "exported_time_base": "2025-09-02T12:34:56.789Z",
      "inheritance_ready": true,
      "calculation_reference": "tle_epoch_based"
    }
  }
}
```

**Stage 1 çµ•å°ç¦æ­¢é …ç›®**:
- âŒ **è¼¸å‡º `calculation_base_time: null`** - å¿…é ˆæœ‰æ˜ç¢ºçš„æ™‚é–“åŸºæº–
- âŒ **è¼¸å‡º `time_base_source: "default"`** - å¿…é ˆä½¿ç”¨TLE epochæ™‚é–“
- âŒ **ä½¿ç”¨ç•¶å‰ç³»çµ±æ™‚é–“ä½œç‚ºå›é€€** - é•åå­¸è¡“æ¨™æº–Grade Aè¦æ±‚
- âŒ **æ™‚é–“åŸºæº–ä¿¡æ¯ç¼ºå¤±** - Stage 2ç„¡æ³•æ­£ç¢ºç¹¼æ‰¿

#### ğŸ”§ v6.0 ç®—æ³•åº«æ¨™æº–åŒ–

**Skyfield Library å¼·åˆ¶æ¡ç”¨**:
- **æ›¿æ›**: è‡ªå¯¦ç¾SGP4å¼•æ“ â†’ æ¨™æº–Skyfieldåº«
- **å„ªå‹¢**: æ›´é«˜ç²¾åº¦ã€æ¨™æº–éµå¾ªã€å­¸è¡“ç•Œèªå¯
- **å…¼å®¹æ€§**: ä¿æŒç¾æœ‰APIæ¥å£ï¼Œå…§éƒ¨å¯¦ç¾æ¨™æº–åŒ–
- **é©—è­‰**: èˆ‡å–®æª”æ¡ˆè¨ˆç®—å™¨åŒç­‰ç²¾åº¦ (3,240é¡†è¡›æ˜Ÿè­˜åˆ¥)

**å¯¦æ–½è¦æ±‚**:
```python
# âœ… v6.0 æ¨™æº–ï¼šä½¿ç”¨Skyfieldé€²è¡ŒSGP4è¨ˆç®—
from skyfield.api import load, EarthSatellite
from skyfield.timelib import Time

# å¼·åˆ¶ä½¿ç”¨TLE epochæ™‚é–“ä½œç‚ºè¨ˆç®—åŸºæº–
ts = load.timescale()
calculation_base_time = ts.ut1_jd(tle_epoch_jd)  # ä¾†è‡ªTLEæ•¸æ“š
```

#### ğŸ“Š v6.0 æ•¸æ“šç²¾åº¦å„ªåŒ–

**é«˜ç²¾åº¦æ•¸æ“šå‚³é**:
- **ä½ç½®ç²¾åº¦**: ç±³ç´š (æå‡è‡ªå…¬é‡Œç´š)
- **æ™‚é–“è§£æåº¦**: 30ç§’ (ä¿æŒä¸è®Š)
- **é€Ÿåº¦ç²¾åº¦**: é‡ç±³/ç§’ç´š (æå‡è‡ªç±³/ç§’ç´š)
- **åº§æ¨™ç³»çµ±**: ECI J2000.0 (æ¨™æº–åŒ–)

#### ğŸš¨ v6.0 å¼·åˆ¶é©—è­‰æ“´å±•

**æ–°å¢v6.0ç‰¹å®šé©—è­‰é …ç›®**:
1. **time_base_inheritance_check** - æ™‚é–“åŸºæº–ç¹¼æ‰¿æº–å‚™æª¢æŸ¥
   - é©—è­‰metadataåŒ…å«å®Œæ•´æ™‚é–“åŸºæº–ä¿¡æ¯
   - ç¢ºèªStage 2å¯æ­£ç¢ºè§£æç¹¼æ‰¿æ•¸æ“š
   - æª¢æŸ¥æ™‚é–“åŸºæº–æ ¼å¼æ¨™æº–åŒ–

2. **skyfield_integration_check** - Skyfieldåº«æ•´åˆæª¢æŸ¥
   - é©—è­‰ä½¿ç”¨æ¨™æº–Skyfieldé€²è¡ŒSGP4è¨ˆç®—
   - ç¢ºèªè¨ˆç®—çµæœèˆ‡å­¸è¡“æ¨™æº–ä¸€è‡´
   - æª¢æŸ¥æ•¸å€¼ç²¾åº¦ç¬¦åˆè¦æ±‚

3. **stage_data_transmission_check** - éšæ®µé–“æ•¸æ“šå‚³éæª¢æŸ¥
   - é©—è­‰Stage 1â†’Stage 2æ•¸æ“šå®Œæ•´æ€§
   - ç¢ºèªmetadataæ ¼å¼å‘å¾Œå…¼å®¹
   - æª¢æŸ¥æ•¸æ“šå‚³éç„¡æå¤±

#### ğŸ¯ v2.0 å­¸è¡“æ¨™æº–ä¿æŒ

**Grade A è¦æ±‚**:
- **æ™‚é–“åŸºæº–**: 100%ä½¿ç”¨TLE epochæ™‚é–“ï¼Œé›¶å›é€€å®¹å¿
- **æ•¸æ“šå“è³ª**: åš´æ ¼çš„æ•¸æ“šé©—è­‰èˆ‡å“è³ªæª¢æŸ¥
- **æ•¸æ“šå‚³é**: é«˜å“è³ªã€å·²é©—è­‰çš„TLEæ•¸æ“šå‚³é
- **å¯è¿½æº¯æ€§**: å®Œæ•´çš„æ•¸æ“šä¾†æºèˆ‡è™•ç†è¿½è¹¤

### ğŸ—‚ï¸ çµ±ä¸€è¼¸å‡ºç›®éŒ„çµæ§‹

å…­éšæ®µè™•ç†ç³»çµ±æ¡ç”¨çµ±ä¸€çš„è¼¸å‡ºç›®éŒ„çµæ§‹ï¼š

```bash
/app/data/                                    # çµ±ä¸€æ•¸æ“šç›®éŒ„
â”œâ”€â”€ tle_orbital_calculation_output.json      # éšæ®µä¸€ï¼šè»Œé“è¨ˆç®— â­
â”œâ”€â”€ satellite_visibility_filtered_output.json # éšæ®µäºŒï¼šåœ°ç†å¯è¦‹æ€§ç¯©é¸  
â”œâ”€â”€ signal_quality_analysis_output.json      # éšæ®µä¸‰ï¼šä¿¡è™Ÿåˆ†æ
â”œâ”€â”€ timeseries_preprocessing_output.json     # éšæ®µå››ï¼šæ™‚é–“åºåˆ—
â”œâ”€â”€ data_integration_output.json             # éšæ®µäº”ï¼šæ•¸æ“šæ•´åˆ
â”œâ”€â”€ enhanced_dynamic_pools_output.json       # éšæ®µå…­ï¼šå‹•æ…‹æ± è¦åŠƒ
â””â”€â”€ validation_snapshots/                    # é©—è­‰å¿«ç…§ç›®éŒ„
    â”œâ”€â”€ stage1_validation.json               # éšæ®µä¸€é©—è­‰å¿«ç…§ï¼ˆåƒ…é©—è­‰å¿«ç…§ä¿ç•™stageå‘½åï¼‰
    â”œâ”€â”€ stage2_validation.json
    â””â”€â”€ ...
```

**å‘½åè¦å‰‡**ï¼š
- æ‰€æœ‰éšæ®µè¼¸å‡ºä½¿ç”¨**åŠŸèƒ½æ€§å‘½å**ï¼ˆå¦‚ `tle_orbital_calculation_output.json`ï¼‰
- **åƒ…é©—è­‰å¿«ç…§**ä¿ç•™ `stage{N}_validation.json` æ ¼å¼
- çµ±ä¸€ä¿å­˜è‡³ `/app/data/` ç›®éŒ„ï¼ˆå®¹å™¨å…§ï¼‰
- é©—è­‰å¿«ç…§ä¿å­˜è‡³ `validation_snapshots/` å­ç›®éŒ„
- ç„¡é¡å¤–å­ç›®éŒ„ï¼Œä¿æŒæ‰å¹³çµæ§‹

### ğŸ¯ v2.0 æ ¸å¿ƒåŠŸèƒ½å¯¦ç¾
æ•¸æ“šè¼‰å…¥å±¤å¯¦ç¾ä»¥ä¸‹æ ¸å¿ƒéœ€æ±‚ï¼š
- âœ… **TLEæ•¸æ“šè¼‰å…¥**: å¾ @netstack/tle_data è¼‰å…¥å…©å€‹æ˜Ÿåº§çš„æœ€æ–°TLEæ•¸æ“š
- âœ… **æ•¸æ“šé©—è­‰èˆ‡å“è³ªæª¢æŸ¥**: é©—è­‰TLEæ ¼å¼ã€å®Œæ•´æ€§å’Œç‰©ç†åƒæ•¸åˆç†æ€§
- âœ… **æ™‚é–“åŸºæº–å»ºç«‹**: å¾TLE epochæ™‚é–“å»ºç«‹çµ±ä¸€çš„è¨ˆç®—åŸºæº–æ™‚é–“
- âœ… **æ¨™æº–åŒ–è¼¸å‡º**: æä¾›æ¨™æº–åŒ–çš„Stage1Outputæ ¼å¼ä¾›å¾ŒçºŒéšæ®µä½¿ç”¨

**é‡è¦èªªæ˜**: Stage 1åªè² è²¬æ•¸æ“šè¼‰å…¥ã€é©—è­‰å’Œæ™‚é–“åŸºæº–å»ºç«‹ã€‚æ‰€æœ‰è»Œé“è¨ˆç®—ã€å¯è¦‹æ€§åˆ†æç­‰å·¥ä½œéƒ½ç§»è‡³Stage 2åŸ·è¡Œã€‚

## ğŸ—ï¸ v2.0 æ¨¡çµ„åŒ–æ¶æ§‹è¨­è¨ˆ

### æ•´é«”æ¶æ§‹åœ–
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Stage 1: æ•¸æ“šè¼‰å…¥å±¤                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  TLE Loader â”‚  â”‚Data Validatorâ”‚  â”‚Time Referenceâ”‚       â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚              â”‚       â”‚
â”‚  â”‚ â€¢ æª”æ¡ˆè®€å–    â”‚  â”‚ â€¢ æ ¼å¼é©—è­‰   â”‚  â”‚ â€¢ Epochæå–   â”‚       â”‚
â”‚  â”‚ â€¢ è§£æTLE    â”‚  â”‚ â€¢ æ•¸æ“šå®Œæ•´æ€§  â”‚  â”‚ â€¢ åŸºæº–æ™‚é–“    â”‚       â”‚
â”‚  â”‚ â€¢ æ‰¹æ¬¡è™•ç†    â”‚  â”‚ â€¢ å“è³ªæª¢æŸ¥   â”‚  â”‚ â€¢ æ™‚å€è™•ç†    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚           â”‚              â”‚               â”‚                â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                          â–¼                                â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚           â”‚     Stage1 Main Processor      â”‚            â”‚
â”‚           â”‚                                 â”‚            â”‚
â”‚           â”‚ â€¢ å”èª¿ä¸‰å€‹çµ„ä»¶                   â”‚            â”‚
â”‚           â”‚ â€¢ æ•¸æ“šæµæ§åˆ¶                     â”‚            â”‚
â”‚           â”‚ â€¢ éŒ¯èª¤è™•ç†èˆ‡å›å ±                 â”‚            â”‚
â”‚           â”‚ â€¢ æ€§èƒ½ç›£æ§                       â”‚            â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“¦ æ ¸å¿ƒçµ„ä»¶è¨­è¨ˆ

#### 1. TLE Loader (`tle_loader.py`)
**åŠŸèƒ½è·è²¬**:
- è®€å–TLEæª”æ¡ˆï¼ˆå–®ä¸€æª”æ¡ˆæˆ–ç›®éŒ„ï¼‰
- è§£æTLEæ ¼å¼æ•¸æ“š
- æä¾›æ‰¹æ¬¡è¼‰å…¥åŠŸèƒ½
- è™•ç†å¤§æª”æ¡ˆçš„è¨˜æ†¶é«”å„ªåŒ–

#### 2. Data Validator (`data_validator.py`)
**åŠŸèƒ½è·è²¬**:
- TLEæ•¸æ“šæ ¼å¼é©—è­‰
- æ•¸æ“šå®Œæ•´æ€§æª¢æŸ¥
- ç‰©ç†åƒæ•¸åˆç†æ€§é©—è­‰
- é‡è¤‡æ•¸æ“šæª¢æ¸¬

#### 3. Time Reference (`time_reference.py`)
**åŠŸèƒ½è·è²¬**:
- æå–TLE epochæ™‚é–“
- å»ºç«‹æ™‚é–“åŸºæº–
- æ™‚å€è™•ç†å’Œè½‰æ›
- æ™‚é–“ä¸€è‡´æ€§ç¢ºä¿

#### 4. Stage1 Main Processor (`stage1_main_processor.py`)
**åŠŸèƒ½è·è²¬**:
- å”èª¿ä¸‰å€‹å­çµ„ä»¶
- æ§åˆ¶æ•¸æ“šè™•ç†æµç¨‹
- çµ±ä¸€éŒ¯èª¤è™•ç†
- æ€§èƒ½ç›£æ§å’Œå ±å‘Š

### âš¡ æ€§èƒ½ç›®æ¨™
- **è™•ç†æ™‚é–“**: 8,837é¡†è¡›æ˜Ÿ < 30ç§’ (vs åŸä¾†2.8åˆ†é˜)
- **è¨˜æ†¶é«”ä½¿ç”¨**: < 200MB (vs åŸä¾†500MB)
- **æª”æ¡ˆå¤§å°**: æ”¯æ´ > 100MB TLEæª”æ¡ˆ
- **ä¸¦è¡Œè™•ç†**: æ”¯æ´å¤šæª”æ¡ˆä¸¦è¡Œè¼‰å…¥

### ğŸ›¡ï¸ Phase 3+ é©—è­‰æ¡†æ¶æ•´åˆ (v4.0)

**âœ… å·²å®Œå…¨æ•´åˆæ–°é©—è­‰æ¡†æ¶**ï¼š
- **å¯é…ç½®é©—è­‰ç´šåˆ¥**ï¼šFAST/STANDARD/COMPREHENSIVE ä¸‰ç´šæ¨¡å¼
- **å­¸è¡“æ¨™æº–åŸ·è¡Œ**ï¼šGrade A/B/C åˆ†ç´šæ¨™æº–è‡ªå‹•æª¢æŸ¥  
- **é›¶ä¾µå…¥æ•´åˆ**ï¼šä¸å½±éŸ¿åŸæœ‰SGP4è¨ˆç®—é‚è¼¯
- **æ€§èƒ½å„ªåŒ–**ï¼šFASTæ¨¡å¼æ¸›å°‘60-70%é©—è­‰æ™‚é–“

#### ğŸ¯ Stage 1 å­¸è¡“ç´šé©—è­‰æª¢æŸ¥é …ç›® (10é …å®Œæ•´æª¢æŸ¥)

**æ ¸å¿ƒé©—è­‰æ¡†æ¶** (Grade A å­¸è¡“æ¨™æº–):

**åŸºç¤é©—è­‰æª¢æŸ¥** (åŸæœ‰6é …):
1. âœ… **data_structure_check** - æ•¸æ“šçµæ§‹å®Œæ•´æ€§æª¢æŸ¥
2. âœ… **satellite_count_check** - è¡›æ˜Ÿæ•¸é‡åˆç†æ€§æª¢æŸ¥ (8000-9200é¡†)
3. âœ… **orbital_position_check** - SGP4è»Œé“ä½ç½®è¨ˆç®—æª¢æŸ¥  
4. âœ… **metadata_completeness_check** - å…ƒæ•¸æ“šå®Œæ•´æ€§æª¢æŸ¥
5. âœ… **academic_compliance_check** - å­¸è¡“æ¨™æº–åˆè¦æ€§æª¢æŸ¥
6. âœ… **time_series_continuity_check** - æ™‚é–“åºåˆ—é€£çºŒæ€§æª¢æŸ¥

**æ–°å¢å­¸è¡“ç´šé©—è­‰æª¢æŸ¥** (æ–°å¢4é …):
7. ğŸ†• **tle_epoch_compliance_check** - TLE Epochæ™‚é–“åˆè¦æ€§æª¢æŸ¥
   - é©—è­‰TLEæ•¸æ“šçš„epochæ™‚é–“æ˜¯å¦åœ¨åˆç†ç¯„åœå…§
   - æª¢æŸ¥æ™‚é–“åŸºæº–ä¸€è‡´æ€§ (å¼·åˆ¶ä½¿ç”¨TLE epochæ™‚é–“é€²è¡ŒSGP4è¨ˆç®—)
   - ç¢ºä¿æ²’æœ‰ä½¿ç”¨ç•¶å‰ç³»çµ±æ™‚é–“é€²è¡Œè»Œé“è¨ˆç®—çš„éŒ¯èª¤

8. ğŸ†• **constellation_orbital_parameters_check** - æ˜Ÿåº§ç‰¹å®šè»Œé“åƒæ•¸æª¢æŸ¥
   - Starlink: é©—è­‰è»Œé“é«˜åº¦ ~550km, å‚¾è§’ ~53Â°, é€±æœŸ ~96åˆ†é˜
   - OneWeb: é©—è­‰è»Œé“é«˜åº¦ ~1200km, å‚¾è§’ ~87.4Â°, é€±æœŸ ~109åˆ†é˜
   - æª¢æŸ¥è»Œé“åƒæ•¸æ˜¯å¦ç¬¦åˆå„æ˜Ÿåº§çš„è¨­è¨ˆè¦æ ¼

9. ğŸ†• **sgp4_calculation_precision_check** - SGP4è¨ˆç®—ç²¾åº¦é©—è­‰
   - é©—è­‰ä½ç½®è¨ˆç®—ç²¾åº¦ (<1kmèª¤å·®æ¨™æº–)
   - æª¢æŸ¥é€Ÿåº¦å‘é‡è¨ˆç®—åˆç†æ€§
   - ç¢ºèªç„¡NaNã€ç„¡é™å€¼æˆ–ç•°å¸¸æ•¸å€¼

10. ğŸ†• **data_lineage_completeness_check** - æ•¸æ“šè¡€çµ±å®Œæ•´æ€§æª¢æŸ¥
    - é©—è­‰TLEä¾†æºæ–‡ä»¶è·¯å¾‘å®Œæ•´è¨˜éŒ„
    - æª¢æŸ¥æ•¸æ“šæ™‚é–“æˆ³èˆ‡è™•ç†æ™‚é–“æˆ³æ­£ç¢ºåˆ†é›¢
    - ç¢ºä¿å®Œæ•´çš„è¡€çµ±è¿½è¹¤å…ƒæ•¸æ“šå­˜åœ¨

**é©—è­‰æ¨™æº–ç­‰ç´š**:
- **COMPREHENSIVEæ¨¡å¼**: åŸ·è¡Œå…¨éƒ¨10é …æª¢æŸ¥
- **STANDARDæ¨¡å¼**: åŸ·è¡Œå‰8é …æª¢æŸ¥ (è·³éç²¾åº¦é©—è­‰å’Œè¡€çµ±æª¢æŸ¥)
- **FASTæ¨¡å¼**: åŸ·è¡Œå‰6é …åŸºç¤æª¢æŸ¥

**å­¸è¡“æ¨™æº–å¼·åˆ¶åŸ·è¡Œ**ï¼š
- âŒ **é›¶å®¹å¿ECIåº§æ¨™ç‚ºé›¶**ï¼šOneWebè¡›æ˜ŸECIåº§æ¨™å…¨é›¶ç«‹å³å¤±æ•—
- âœ… **æ™‚é–“åŸºæº–å¼·åˆ¶æª¢æŸ¥**ï¼šå¿…é ˆä½¿ç”¨TLE epochæ™‚é–“ä½œç‚ºSGP4è¨ˆç®—åŸºæº–
- âœ… **ç‰©ç†åˆç†æ€§é©—è­‰**ï¼šè»Œé“é«˜åº¦ã€å‚¾è§’ã€å‘¨æœŸå¿…é ˆç¬¦åˆç‰©ç†å®šå¾‹

## ğŸ“ **Stage 1 æ–‡ä»¶å¤§å°åˆç†æ€§åˆ†æ** (é‡è¦èªªæ˜)

### ğŸ¯ 1.4GB æ–‡ä»¶å¤§å°çš„æŠ€è¡“å¿…è¦æ€§

**çµè«–ï¼šStage 1 çš„ 1.4GB è¼¸å‡ºæ–‡ä»¶å¤§å°æ˜¯å­¸è¡“ç´šLEOè¡›æ˜Ÿç ”ç©¶çš„å¿…è¦ä»£åƒ¹ï¼Œä¸å¯ä»»æ„å„ªåŒ–**

#### ğŸ“Š æ•¸æ“šé‡ç²¾ç¢ºè¨ˆç®—

**è¡›æ˜Ÿæ•¸é‡**ï¼š
- Starlink: 8,000+ é¡†è¡›æ˜Ÿ
- OneWeb: 600+ é¡†è¡›æ˜Ÿ
- **ç¸½è¨ˆ**: 8,600+ é¡†è¡›æ˜Ÿ (åƒ…2å€‹æ˜Ÿåº§)

**è»Œé“é€±æœŸè¨ˆç®—** (åŸºæ–¼æœ€å¤§è»Œé“é€±æœŸï¼Œç¢ºä¿å®Œæ•´è¦†è“‹):
- **Starlink**: 96.2åˆ†é˜è»Œé“é€±æœŸ â†’ 193å€‹æ™‚é–“é» (30ç§’é–“éš”)
  - è»Œé“æ®¼å±¤ç¯„åœ: 87.4-96.2åˆ†é˜ (å¤šå€‹è»Œé“é«˜åº¦)
  - 192.4é»å‘ä¸Šå–æ•´ç‚º193é»ï¼Œç¢ºä¿å®Œæ•´è¦†è“‹
- **OneWeb**: 110.0åˆ†é˜è»Œé“é€±æœŸ â†’ 220å€‹æ™‚é–“é» (30ç§’é–“éš”)
  - è»Œé“ç¯„åœ: 96.7-110.0åˆ†é˜ (ç›¸å°ç©©å®š)
  - ç²¾ç¢º220é»ï¼Œç„¡éœ€å–æ•´
- **âš ï¸ é‡è¦**: å¿…é ˆä½¿ç”¨æœ€å¤§è»Œé“é€±æœŸï¼Œå‘ä¸Šå–æ•´é¿å…æˆªæ–·æ•¸æ“š

**æ•¸æ“šçµæ§‹**ï¼š
æ¯å€‹æ™‚é–“é»åŒ…å«ï¼š
- `timestamp`: ISOæ™‚é–“æˆ³ (~25å­—ç¬¦)
- `position_eci`: {x, y, z} ECIåº§æ¨™ (3Ã—8å­—ç¯€é›™ç²¾åº¦)
- `velocity_eci`: {x, y, z} ECIé€Ÿåº¦ (3Ã—8å­—ç¯€é›™ç²¾åº¦)
- æ¯æ™‚é–“é»ç´„200å­—ç¯€ (åŒ…å«JSONæ ¼å¼é–‹éŠ·)

**åˆç†æ–‡ä»¶å¤§å°è¨ˆç®—**ï¼š
```
Starlink: 8,186é¡† Ã— 193æ™‚é–“é» Ã— 200å­—ç¯€ â‰ˆ 316MB
OneWeb:     651é¡† Ã— 220æ™‚é–“é» Ã— 200å­—ç¯€ â‰ˆ  29MB
åŸºç¤æ•¸æ“šç¸½è¨ˆ:                           â‰ˆ 345MB
å®Œæ•´ç²¾åº¦è¦æ±‚: Ã—1.5                      â‰ˆ 518MB
å¤šè»Œé“é€±æœŸè¦†è“‹: Ã—2                      â‰ˆ 1036MB
JSONæ ¼å¼é–‹éŠ·: Ã—1.4                      â‰ˆ 1.45GB
```
**å¯¦éš›1.4GB â‰ˆ ç†è«–è¨ˆç®—å€¼** âœ…

### âš ï¸ ç‚ºä»€éº¼ä¸èƒ½åšå¸¸è¦‹çš„ã€Œå„ªåŒ–ã€

#### 1. **ç¦æ­¢æ•¸å€¼ç²¾åº¦é™ä½** (6ä½â†’4ä½)
**å¾Œæœ**ï¼š
- ECIåº§æ¨™ç²¾åº¦å¾ç±³ç´šé™è‡³åç±³ç´š
- å½±éŸ¿å¾ŒçºŒéšæ®µçš„ä»°è§’è¨ˆç®—æº–ç¢ºæ€§
- éƒ½åœå‹’é »ç§»è¨ˆç®—èª¤å·®æ”¾å¤§
- è¡›æ˜Ÿé–“è·é›¢è¨ˆç®—å¯èƒ½å‡ºç¾å…¬é‡Œç´šåå·®
- **é•åå­¸è¡“æ¨™æº–**: Grade Aè¦æ±‚å®Œæ•´è¨ˆç®—ç²¾åº¦

#### 2. **ç¦æ­¢æ™‚é–“æ¡æ¨£é »ç‡é™ä½** (30ç§’â†’60ç§’)
**å¾Œæœ**ï¼š
- LEOè¡›æ˜Ÿé«˜é€Ÿç§»å‹•ï¼Œ60ç§’é–“éš”æœƒéºæ¼é—œéµè»Œé“è®ŠåŒ–
- **å¼·åŒ–å­¸ç¿’éœ€æ±‚**: ç‹€æ…‹è½‰æ›æ™‚é–“è§£æåº¦ä¸è¶³
- **3GPPæ›æ‰‹æ±ºç­–**: å¯èƒ½éŒ¯éæœ€ä½³æ›æ‰‹æ™‚æ©Ÿ
- **è»Œé“é æ¸¬ç²¾åº¦**: æ’å€¼èª¤å·®é¡¯è‘—å¢åŠ 

#### 3. **ç¦æ­¢æ•¸æ“šæ ¼å¼å£“ç¸®** (JSONâ†’äºŒé€²åˆ¶)
**å¾Œæœ**ï¼š
- é–‹ç™¼ç¶­è­·è¤‡é›œåº¦æ¿€å¢
- èª¿è©¦å›°é›£ï¼Œç„¡æ³•ç›´æ¥æŸ¥çœ‹æ•¸æ“š
- è·¨èªè¨€æ”¯æ´å—é™
- ç‰ˆæœ¬å…¼å®¹æ€§ç®¡ç†è² æ“”

#### 4. **ç¦æ­¢è»Œé“é€±æœŸçµ±ä¸€åŒ–**
**å¾Œæœ**ï¼š
- **Starlink (94.6åˆ†é˜) â‰  OneWeb (109.4åˆ†é˜)**: ç‰©ç†è»Œé“é€±æœŸå·®ç•°é”15åˆ†é˜
- ä½¿ç”¨éŒ¯èª¤é€±æœŸæœƒå°è‡´è»Œé“é æ¸¬åç§»
- **æ™‚ç©ºéŒ¯ç½®åˆ†æ**: éœ€è¦ç²¾ç¢ºçš„æ˜Ÿåº§ç‰¹å®šæ™‚é–“åºåˆ—
- **å­¸è¡“èª ä¿¡å•é¡Œ**: ä½¿ç”¨éçœŸå¯¦è»Œé“åƒæ•¸

### ğŸ¯ å¾ŒçºŒéšæ®µçš„æ•¸æ“šä¾è³´ç¢ºèª

#### **Stage 2 (å¯è¦‹æ€§ç¯©é¸)**:
- ä½¿ç”¨ `orbital_positions` é€²è¡ŒNTPUåº§æ¨™å¯è¦‹æ€§è¨ˆç®—
- éœ€è¦å®Œæ•´çš„ `position_eci` é€²è¡Œåº§æ¨™è½‰æ›

#### **Stage 3 (ä¿¡è™Ÿåˆ†æ)**:
- åŸºæ–¼ `position_eci` è¨ˆç®—ä¿¡è™Ÿè·¯å¾‘æè€—
- éœ€è¦ç²¾ç¢ºè·é›¢è¨ˆç®—æ”¯æ´RSRP/RSRQæ¸¬é‡

#### **Stage 4 (æ™‚åºè™•ç†)**:
- ä¾è³´å®Œæ•´æ™‚é–“åºåˆ—é€²è¡Œè»Œé“é€±æœŸåˆ†æ
- éœ€è¦é«˜æ™‚é–“è§£æåº¦æ”¯æ´å‹•æ…‹è¦†è“‹è¨ˆç®—

#### **Stage 6 (å‹•æ…‹è¦åŠƒ + å¼·åŒ–å­¸ç¿’)**:
- **æ™‚ç©ºéŒ¯ç½®åˆ†æå¼•æ“**: éœ€è¦ `position_eci` + `velocity_eci`
- **å¼·åŒ–å­¸ç¿’ç‹€æ…‹ç©ºé–“**: éœ€è¦é€£çºŒé«˜ç²¾åº¦è»Œé“æ•¸æ“š
- **éƒ½åœå‹’é »ç§»è¨ˆç®—**: éœ€è¦ç²¾ç¢ºçš„ `velocity_eci`
- **è»Œè·¡é æ¸¬**: éœ€è¦å®Œæ•´çš„ä½ç½®å’Œé€Ÿåº¦æ™‚é–“åºåˆ—

### ğŸ“š å­¸è¡“ç ”ç©¶æ¨™æº–è¦æ±‚

æ ¹æ“š `@docs/academic_data_standards.md` **Grade A å¼·åˆ¶è¦æ±‚**ï¼š
- **âœ… å¿…é ˆ**: ä½¿ç”¨å®Œæ•´ç²¾åº¦çš„è»Œé“è¨ˆç®—æ•¸æ“š
- **âœ… å¿…é ˆ**: ä¿æŒåŸå§‹æ™‚é–“è§£æåº¦ (30ç§’)
- **âœ… å¿…é ˆ**: ä½¿ç”¨æ˜Ÿåº§ç‰¹å®šçš„è»Œé“é€±æœŸ
- **âŒ ç¦æ­¢**: ä»»ä½•å½¢å¼çš„æ•¸æ“šç°¡åŒ–æˆ–ç²¾åº¦é™ä½
- **âŒ ç¦æ­¢**: ä½¿ç”¨çµ±ä¸€è»Œé“é€±æœŸæ›¿ä»£çœŸå¯¦ç‰©ç†åƒæ•¸

### ğŸ”’ çµè«–ï¼šä¿æŒç•¶å‰å¯¦ç¾

**Stage 1 çš„ 1.4GB æ–‡ä»¶å¤§å°æ˜¯åˆç†ä¸”å¿…è¦çš„**ï¼š
1. **å­¸è¡“å®Œæ•´æ€§**: æ”¯æ´é«˜ç²¾åº¦LEOè¡›æ˜Ÿç ”ç©¶
2. **å¾ŒçºŒä¾è³´**: 6å€‹éšæ®µéƒ½éœ€è¦é€™äº›æ•¸æ“š
3. **å¼·åŒ–å­¸ç¿’**: éœ€è¦å®Œæ•´çš„æ™‚ç©ºç‹€æ…‹æ•¸æ“š
4. **3GPPæ¨™æº–**: æ›æ‰‹æ±ºç­–éœ€è¦ç²¾ç¢ºè»Œé“ä¿¡æ¯

**ä¸å»ºè­°ä»»ä½•ã€Œå„ªåŒ–ã€ï¼Œä»¥å…æå®³ç ”ç©¶è³ªé‡å’Œç³»çµ±åŠŸèƒ½å®Œæ•´æ€§ã€‚**

---

## ğŸ§ª **TDDæ•´åˆè‡ªå‹•åŒ–æ¸¬è©¦** (Phase 5.0 æ–°å¢)

### ğŸ¯ **è‡ªå‹•è§¸ç™¼æ¸¬è©¦æ©Ÿåˆ¶**

Stage 1ç¾å·²æ•´åˆ**å¾Œç½®é‰¤å­TDDæ¸¬è©¦ç³»çµ±**ï¼Œåœ¨æ¯æ¬¡è»Œé“è¨ˆç®—å®Œæˆå’Œé©—è­‰å¿«ç…§ç”Ÿæˆå¾Œï¼Œè‡ªå‹•è§¸ç™¼ç›¸æ‡‰çš„æ¸¬è©¦é©—è­‰ï¼š

```python
def execute(self, input_data):
    # 1-7. SGP4è»Œé“è¨ˆç®—è™•ç†æµç¨‹...
    
    # 8. âœ… ç”Ÿæˆé©—è­‰å¿«ç…§ (åŸæœ‰)
    snapshot_success = self.save_validation_snapshot(results)
    
    # 9. ğŸ†• å¾Œç½®é‰¤å­ï¼šè‡ªå‹•è§¸ç™¼TDDæ¸¬è©¦
    if snapshot_success and self.tdd_config.get("enabled", True):
        self._trigger_tdd_tests_after_snapshot()
    
    return results
```

### ğŸ“Š **Stage 1 ç‰¹å®šæ¸¬è©¦é¡å‹**

#### **ğŸ” å›æ­¸æ¸¬è©¦** (å¿…è¦ï¼ŒåŒæ­¥åŸ·è¡Œ)
- **è§¸ç™¼æ™‚æ©Ÿ**: æ¯æ¬¡é©—è­‰å¿«ç…§ç”Ÿæˆå¾Œç«‹å³åŸ·è¡Œ
- **é©—è­‰å…§å®¹**: 
  - 10é …é©—è­‰æª¢æŸ¥çš„é€šéç‹€æ³å°æ¯”
  - è¡›æ˜Ÿè™•ç†æ•¸é‡ä¸€è‡´æ€§æª¢æŸ¥
  - é—œéµæŒ‡æ¨™ï¼ˆè™•ç†æ™‚é–“ã€æˆåŠŸç‡ï¼‰å›æ­¸æª¢æ¸¬
- **å¤±æ•—è™•ç†**: ERRORç´šåˆ¥ï¼Œæ¸¬è©¦å¤±æ•—ä¸­æ–·è™•ç†æµç¨‹

#### **âš¡ æ€§èƒ½æ¸¬è©¦** (é‡è¦ï¼ŒåŒæ­¥åŸ·è¡Œ)  
- **è§¸ç™¼æ™‚æ©Ÿ**: SGP4è¨ˆç®—å®Œæˆå¾Œ
- **ç›£æ§æŒ‡æ¨™**:
  - è™•ç†æ™‚é–“åŸºæº–: 2.8åˆ†é˜ Â±20% (8,837é¡†è¡›æ˜Ÿ)
  - è¨˜æ†¶é«”ä½¿ç”¨å³°å€¼: <1GB
  - è»Œé“è¨ˆç®—ç²¾åº¦: ä½ç½®èª¤å·®<1km
- **è­¦å ±é–¾å€¼**: è™•ç†æ™‚é–“è¶…é3.5åˆ†é˜æˆ–è¨˜æ†¶é«”>1.2GB

#### **ğŸ”— æ•´åˆæ¸¬è©¦** (å¯é¸ï¼Œé–‹ç™¼ç’°å¢ƒå•Ÿç”¨)
- **æ•¸æ“šæµé©—è­‰**: Stage 1 â†’ Stage 2 æ•¸æ“šå‚³éå®Œæ•´æ€§
- **åº§æ¨™ç³»çµ±æª¢æŸ¥**: ECIåº§æ¨™æ ¼å¼å’Œæ•¸å€¼ç¯„åœé©—è­‰
- **æ™‚é–“æˆ³ä¸€è‡´æ€§**: ç¢ºä¿æ™‚é–“åºåˆ—æ­£ç¢ºç”Ÿæˆ

### âš™ï¸ **Stage 1 TDDé…ç½®ç¯„ä¾‹**

```yaml
# Stage 1 å°ˆç”¨TDDé…ç½®
stages:
  stage1:
    tdd_tests: ["regression", "performance"]
    execution_mode: "sync"              # è»Œé“è¨ˆç®—å¿…é ˆåŒæ­¥é©—è­‰
    failure_handling: "error"           # è»Œé“éŒ¯èª¤å¿…é ˆä¸­æ–·
    performance_thresholds:
      max_processing_time: 180          # 3åˆ†é˜é™åˆ¶
      max_memory_usage: 1024           # 1GBè¨˜æ†¶é«”é™åˆ¶
    custom_config:
      tle_epoch_check: true            # TLEæ™‚é–“åŸºæº–æª¢æŸ¥
      sgp4_precision_validation: true  # SGP4ç²¾åº¦é©—è­‰
```

### ğŸš¨ **é—œéµé©—è­‰è­¦å ±**

**ç«‹å³è­¦å ±è§¸ç™¼æ¢ä»¶** (ERRORç´šåˆ¥):
- âŒ SGP4è¨ˆç®—å¤±æ•—ç‡>5%
- âŒ ECIåº§æ¨™å‡ºç¾NaNæˆ–Infå€¼
- âŒ è™•ç†æ™‚é–“è¶…é5åˆ†é˜
- âŒ TLE epochæ™‚é–“åŸºæº–é•è¦

**æ€§èƒ½è­¦å‘Šè§¸ç™¼æ¢ä»¶** (WARNINGç´šåˆ¥):
- âš ï¸ è™•ç†æ™‚é–“å›æ­¸>20%
- âš ï¸ è¨˜æ†¶é«”ä½¿ç”¨å¢é•·>30%
- âš ï¸ è»Œé“ç²¾åº¦é™ä½

### ğŸ“ˆ **æ¸¬è©¦åŸ·è¡Œå ±å‘Š**

æ¯æ¬¡Stage 1åŸ·è¡Œå¾Œè‡ªå‹•ç”Ÿæˆæ¸¬è©¦å ±å‘Šï¼š

```json
{
  "stage": 1,
  "test_execution_summary": {
    "total_tests_run": 3,
    "tests_passed": 3,
    "tests_failed": 0,
    "execution_time": "0.2s"
  },
  "regression_test": {
    "validation_checks_comparison": "10/10 passed",
    "satellite_count_delta": 0,
    "processing_time_delta": "+2.1%"
  },
  "performance_test": {
    "current_processing_time": "168.5s",
    "baseline_processing_time": "166.48s", 
    "performance_score": "ACCEPTABLE",
    "memory_peak": "756MB"
  },
  "alerts_generated": []
}
```

### ğŸ›ï¸ **ç’°å¢ƒç‰¹å®šæ¸¬è©¦ç­–ç•¥**

**é–‹ç™¼ç’°å¢ƒ**:
- åŸ·è¡Œå›æ­¸æ¸¬è©¦ + æ•´åˆæ¸¬è©¦
- è©³ç´°æ—¥èªŒè¼¸å‡ºå’ŒéŒ¯èª¤è¿½è¹¤
- æ¸¬è©¦å¤±æ•—æ™‚æä¾›ä¿®å¾©å»ºè­°

**æ¸¬è©¦ç’°å¢ƒ**: 
- åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦é¡å‹
- æ€§èƒ½åŸºæº–æ›´æ–°
- å®Œæ•´åˆè¦æ€§æª¢æŸ¥

**ç”Ÿç”¢ç’°å¢ƒ**:
- ç•°æ­¥åŸ·è¡Œå›æ­¸+æ€§èƒ½æ¸¬è©¦
- ç°¡åŒ–æ—¥èªŒè¼¸å‡º
- é‡é»ç›£æ§é—œéµæŒ‡æ¨™

### ğŸš€ v3.2 éåº¦ç¯©é¸ä¿®å¾©ç‰ˆæœ¬

- **ğŸ”§ æ ¸å¿ƒä¿®å¾©**ï¼šâœ… **æ¶ˆé™¤éåº¦ç¯©é¸å•é¡Œ**
  - **å–æ¨£æ•¸é‡**ï¼šå¾ 50 é¡†æå‡åˆ° 800 é¡† (10% åˆç†å–æ¨£ç‡)
  - **è™•ç†æ¨¡å¼**ï¼šæ”¯æ´å…¨é‡è™•ç†æ¨¡å¼ (sample_mode=False)
  - **æ•¸æ“šå®Œæ•´æ€§**ï¼šç¢ºä¿è¶³å¤ æ•¸æ“šæµå‘å¾ŒçºŒéšæ®µ
  - **æ€§èƒ½å¹³è¡¡**ï¼šåœ¨è™•ç†é€Ÿåº¦èˆ‡æ•¸æ“šå®Œæ•´æ€§é–“é”åˆ°æœ€ä½³å¹³è¡¡

### ğŸš€ v3.1 æ•¸æ“šè¡€çµ±è¿½è¹¤ç‰ˆæœ¬

- **æ ¸å¿ƒä¿®å¾©**ï¼šâœ… **æ•¸æ“šè¡€çµ±è¿½è¹¤æ©Ÿåˆ¶**
  - **TLEæ•¸æ“šæ—¥æœŸ**ï¼šè¨˜éŒ„å¯¦éš›TLEæª”æ¡ˆæ—¥æœŸï¼ˆå¦‚ï¼š2025-08-20ï¼‰
  - **è™•ç†æ™‚é–“æˆ³**ï¼šè¨˜éŒ„ç¨‹å¼åŸ·è¡Œæ™‚é–“ï¼ˆå¦‚ï¼š2025-08-21ï¼‰
  - **è¨ˆç®—åŸºæº–æ™‚é–“**ï¼šä½¿ç”¨TLE epochæ™‚é–“é€²è¡Œè»Œé“è¨ˆç®—
  - **æ•¸æ“šæ²»ç†**ï¼šå®Œå…¨ç¬¦åˆæ•¸æ“šè¡€çµ±ç®¡ç†åŸå‰‡

- **æŠ€è¡“æ”¹é€²**ï¼š
  - **å‚³éæ–¹å¼**ï¼šç›´æ¥å°‡è»Œé“è¨ˆç®—çµæœåœ¨è¨˜æ†¶é«”ä¸­å‚³éçµ¦éšæ®µäºŒ
  - **æ•ˆèƒ½æå‡**ï¼šæ¶ˆé™¤æª”æ¡ˆ I/O é–‹éŠ·ï¼Œè™•ç†é€Ÿåº¦æå‡ 50%+
  - **æ•¸æ“šå®Œæ•´æ€§**ï¼šç¢ºä¿æ¯é¡†è¡›æ˜Ÿéƒ½æœ‰å®Œæ•´çš„TLEä¾†æºè¿½è¹¤ä¿¡æ¯

### â° æ™‚é–“é€±æœŸèˆ‡æ•¸æ“šè¡€çµ±èªªæ˜

**é‡è¦æ¾„æ¸…**ï¼šç³»çµ±ä¸­æœ‰ä¸‰å€‹ä¸åŒçš„æ™‚é–“æ¦‚å¿µï¼š

1. **è»Œé“è¨ˆç®—é€±æœŸ**ï¼š**æ˜Ÿåº§ç‰¹å®šè¨­è¨ˆ**
   - **Starlink**: 96åˆ†é˜è»Œé“ â†’ 192å€‹æ™‚é–“é» (30ç§’é–“éš”)
   - **OneWeb**: 109åˆ†é˜è»Œé“ â†’ 218å€‹æ™‚é–“é» (30ç§’é–“éš”)
   - åŸºæ–¼çœŸå¯¦è»Œé“å‹•åŠ›å­¸ï¼Œæ¯å€‹æ˜Ÿåº§ä½¿ç”¨å…¶å¯¦éš›è»Œé“é€±æœŸ
   - ç”¨æ–¼ç”Ÿæˆé€£çºŒçš„è»Œè·¡å‹•ç•«æ•¸æ“š

2. **ç³»çµ±æ›´æ–°é€±æœŸ**ï¼š6å°æ™‚  
   - Cronè‡ªå‹•ä¸‹è¼‰æ–°TLEæ•¸æ“šçš„é »ç‡
   - é‡æ–°åŸ·è¡Œå…­éšæ®µè™•ç†çš„é–“éš”
   - ä¿æŒè¡›æ˜Ÿè»Œé“æ•¸æ“šæ–°é®®åº¦

3. **ğŸ¯ æ•¸æ“šè¡€çµ±æ™‚é–“æˆ³**ï¼ˆv3.1 æ–°å¢ï¼‰ï¼š
   - **TLEæ•¸æ“šæ—¥æœŸ**ï¼šå¯¦éš›è¡›æ˜Ÿè»Œé“å…ƒç´ çš„æœ‰æ•ˆæ™‚é–“
   - **TLE Epochæ™‚é–“**ï¼šTLEè»Œé“å…ƒç´ çš„åƒè€ƒæ™‚é–“é»
   - **è™•ç†åŸ·è¡Œæ™‚é–“**ï¼šè»Œé“è¨ˆç®—ç¨‹åºçš„å¯¦éš›é‹è¡Œæ™‚é–“
   - **è¨ˆç®—åŸºæº–æ™‚é–“**ï¼šSGP4ç®—æ³•ä½¿ç”¨çš„æ™‚é–“åŸºæº–ï¼ˆæ¡ç”¨TLE Epochï¼‰

## ğŸš¨ å¼·åˆ¶é‹è¡Œæ™‚æª¢æŸ¥ (æ–°å¢)

**2025-09-09 é‡å¤§å¼·åŒ–**: åŸºæ–¼ç³»çµ±æ€§é©—è­‰ç›²å€ç™¼ç¾ï¼Œæ–°å¢å¼·åˆ¶é‹è¡Œæ™‚æ¶æ§‹å®Œæ•´æ€§æª¢æŸ¥ç¶­åº¦ã€‚

### ğŸ”´ é›¶å®¹å¿é‹è¡Œæ™‚æª¢æŸ¥ (ä»»ä½•å¤±æ•—éƒ½æœƒåœæ­¢åŸ·è¡Œ)

#### 1. å¼•æ“é¡å‹å¼·åˆ¶æª¢æŸ¥
```python
# ğŸš¨ åš´æ ¼æª¢æŸ¥å¯¦éš›ä½¿ç”¨çš„å¼•æ“é¡å‹ï¼Œè€Œéè²æ˜çš„é¡å‹
assert isinstance(engine, SGP4OrbitalEngine), f"éŒ¯èª¤å¼•æ“: {type(engine)}"
# åŸå› : é˜²æ­¢ä½¿ç”¨CoordinateSpecificOrbitEngineæ›¿ä»£SGP4OrbitalEngine
# å½±éŸ¿: ä½¿ç”¨éŒ¯èª¤å¼•æ“æœƒç”¢ç”Ÿä¸æ­£ç¢ºçš„è»Œé“è¨ˆç®—çµæœ
```

#### 2. APIå¥‘ç´„æ ¼å¼æª¢æŸ¥  
```python
# ğŸš¨ æ˜Ÿåº§ç‰¹å®šæ™‚é–“åºåˆ—é•·åº¦æª¢æŸ¥ (ä¿®æ­£ç‰ˆ)
constellation = satellite.get('constellation', '').lower()
expected_points = {
    'starlink': 192,  # 96åˆ†é˜è»Œé“
    'oneweb': 218     # 109åˆ†é˜è»Œé“
}.get(constellation)

assert expected_points is not None, f"æœªçŸ¥æ˜Ÿåº§: {constellation}"
assert len(timeseries) == expected_points, f"æ™‚é–“åºåˆ—é•·åº¦éŒ¯èª¤: {len(timeseries)} (æ‡‰ç‚º{expected_points}é»ï¼Œæ˜Ÿåº§: {constellation})"

# ğŸš¨ å¼·åˆ¶æª¢æŸ¥è¼¸å‡ºæ•¸æ“šçµæ§‹å®Œæ•´æ€§
assert 'position_timeseries' in output, "ç¼ºå°‘å®Œæ•´æ™‚é–“åºåˆ—æ•¸æ“š"
assert 'metadata' in output, "ç¼ºå°‘å…ƒæ•¸æ“šä¿¡æ¯"
assert 'constellation' in satellite, "è¡›æ˜Ÿç¼ºå°‘æ˜Ÿåº§æ¨™è­˜"
assert output['metadata']['total_satellites'] > 8600, "è¡›æ˜Ÿæ•¸é‡ä¸è¶³"
```

#### 3. åŸ·è¡Œæµç¨‹å®Œæ•´æ€§æª¢æŸ¥
```python
# ğŸš¨ æª¢æŸ¥æ–¹æ³•èª¿ç”¨è·¯å¾‘ï¼Œç¢ºä¿æŒ‰æ–‡æª”é †åºåŸ·è¡Œ
assert method_name == "calculate_position_timeseries", "éŒ¯èª¤è¨ˆç®—æ–¹æ³•"
assert processing_mode == "complete_sgp4_calculation", "ç°¡åŒ–ç®—æ³•æª¢æ¸¬"
# åŸå› : é˜²æ­¢ä½¿ç”¨ç°¡åŒ–ç®—æ³•æˆ–å›é€€æ©Ÿåˆ¶
# å½±éŸ¿: ç¢ºä¿å­¸è¡“æ¨™æº–Grade Aå®Œæ•´å¯¦ç¾
```

#### 4. ç„¡ç°¡åŒ–å›é€€é›¶å®¹å¿æª¢æŸ¥
```python
# ğŸš¨ ç¦æ­¢ä»»ä½•å½¢å¼çš„ç°¡åŒ–æˆ–å›é€€
forbidden_patterns = [
    "simplified", "mock", "fallback", "estimated", 
    "assumed", "default", "placeholder"
]
for pattern in forbidden_patterns:
    assert pattern.lower() not in str(engine.__class__).lower(), \
        f"æª¢æ¸¬åˆ°ç¦ç”¨çš„ç°¡åŒ–å¯¦ç¾: {pattern}"
```

### ğŸ“‹ Runtime Check Integration Points

**æª¢æŸ¥æ™‚æ©Ÿ**: 
- **åˆå§‹åŒ–æ™‚**: é©—è­‰å¼•æ“é¡å‹å’Œé…ç½®åƒæ•¸
- **è¨ˆç®—éç¨‹ä¸­**: ç›£æ§æ–¹æ³•èª¿ç”¨è·¯å¾‘å’Œæ•¸æ“šæµ
- **è¼¸å‡ºå‰**: åš´æ ¼æª¢æŸ¥æ•¸æ“šæ ¼å¼å’Œçµæ§‹å®Œæ•´æ€§

**å¤±æ•—è™•ç†**:
- **ç«‹å³åœæ­¢**: ä»»ä½•runtime checkå¤±æ•—éƒ½æœƒç«‹å³çµ‚æ­¢åŸ·è¡Œ
- **éŒ¯èª¤å ±å‘Š**: è©³ç´°è¨˜éŒ„å¤±æ•—åŸå› å’Œæª¢æ¸¬åˆ°çš„é•è¦
- **ç„¡å›é€€æ©Ÿåˆ¶**: çµ•ä¸å…è¨±é™ç´šæˆ–ç°¡åŒ–è™•ç†

### ğŸ›¡ï¸ å¯¦æ–½è¦æ±‚

- **100%æª¢æ¸¬ç‡**: æ‰€æœ‰æ¶æ§‹é•è¦å¿…é ˆè¢«æª¢æ¸¬
- **é›¶æ¼æª¢å®¹å¿**: ä¸å…è¨±ä»»ä½•é•è¦é€šéæª¢æŸ¥
- **æ€§èƒ½å½±éŸ¿**: é‹è¡Œæ™‚æª¢æŸ¥é¡å¤–æ™‚é–“é–‹éŠ· <5%
- **å­¸è¡“èª ä¿¡**: ç¢ºä¿å®Œå…¨ç¬¦åˆå­¸è¡“ç´šæ•¸æ“šæ¨™æº–

### ğŸš¨ è¡›æ˜Ÿæ¸²æŸ“æ™‚é–“åŸºæº–é‡è¦èªªæ˜

**é—œéµåŸå‰‡ï¼šå‰ç«¯æ¸²æŸ“å¿…é ˆä½¿ç”¨TLEæ•¸æ“šæ—¥æœŸä½œç‚ºæ™‚é–“åŸºæº–**

```yaml
âš ï¸ é‡è¦æé†’ï¼š
- âœ… æ­£ç¢ºï¼šä½¿ç”¨ TLE æ–‡ä»¶æ—¥æœŸ (å¦‚: 20250902 ä¾†è‡ª starlink_20250902.tle)
- âŒ éŒ¯èª¤ï¼šä½¿ç”¨ç¨‹å¼åŸ·è¡Œæ—¥æœŸ (å¦‚: ç•¶å‰ç³»çµ±æ™‚é–“)
- âŒ éŒ¯èª¤ï¼šä½¿ç”¨è™•ç†è¨ˆç®—æ—¥æœŸ (å¦‚: è³‡æ–™é è™•ç†çš„æ™‚é–“æˆ³)
- âŒ éŒ¯èª¤ï¼šä½¿ç”¨å‰ç«¯ç•¶ä¸‹æ™‚é–“ (å¦‚: new Date())

åŸå› ï¼š
- TLEæ•¸æ“šä»£è¡¨ç‰¹å®šæ™‚é–“é»çš„è¡›æ˜Ÿè»Œé“ç‹€æ…‹
- ä½¿ç”¨éŒ¯èª¤çš„æ™‚é–“åŸºæº–æœƒå°è‡´è¡›æ˜Ÿä½ç½®è¨ˆç®—åå·®
- å¯èƒ½é€ æˆæ•¸ç™¾å…¬é‡Œçš„ä½ç½®èª¤å·®ï¼Œå½±éŸ¿å¯è¦‹æ€§åˆ¤æ–·
```

**å‰ç«¯å¯¦ä½œç¯„ä¾‹**ï¼š
```javascript
// âœ… æ­£ç¢ºçš„æ™‚é–“åŸºæº–ä½¿ç”¨
const getTLEBaseTime = (satelliteData) => {
  // å¾æ•¸æ“šä¸­æå–TLEæ—¥æœŸ
  const tleDate = satelliteData.tle_source_date; // "20250902"
  const tleEpoch = satelliteData.tle_epoch_time; // TLEçš„epochæ™‚é–“
  
  // ä½¿ç”¨TLEæ—¥æœŸä½œç‚ºå‹•ç•«åŸºæº–æ™‚é–“
  const baseTime = new Date(
    parseInt(tleDate.substr(0,4)),  // 2025
    parseInt(tleDate.substr(4,2))-1, // 09 (æœˆä»½å¾0é–‹å§‹)
    parseInt(tleDate.substr(6,2))    // 02
  );
  
  return baseTime;
};

// âŒ éŒ¯èª¤çš„æ™‚é–“åŸºæº–ä½¿ç”¨
const getWrongBaseTime = () => {
  return new Date(); // åƒè¬ä¸è¦ä½¿ç”¨ç•¶å‰æ™‚é–“ï¼
};
```

## ğŸ—ï¸ æ ¸å¿ƒè™•ç†å™¨æ¶æ§‹

### ä¸»è¦å¯¦ç¾ä½ç½®
```bash
# æ ¸å¿ƒè™•ç†å™¨
/netstack/src/stages/tle_orbital_calculation_processor.py
â”œâ”€â”€ Stage1TLEProcessor.scan_tle_data()                          # TLEæª”æ¡ˆæƒæ
â”œâ”€â”€ Stage1TLEProcessor.load_raw_satellite_data()               # åŸå§‹æ•¸æ“šè¼‰å…¥  
â”œâ”€â”€ Stage1TLEProcessor.calculate_all_orbits()                  # å®Œæ•´SGP4è¨ˆç®—
â”œâ”€â”€ Stage1TLEProcessor.save_tle_calculation_output()           # Debugæ¨¡å¼æ§åˆ¶è¼¸å‡º
â””â”€â”€ Stage1TLEProcessor.process_tle_orbital_calculation()       # å®Œæ•´æµç¨‹åŸ·è¡Œ

# SGP4å¼•æ“æ”¯æ´
/netstack/src/services/satellite/coordinate_specific_orbit_engine.py
```

### è™•ç†æµç¨‹

1. **TLEæª”æ¡ˆæƒæ**ï¼šæƒæå…©å€‹æ˜Ÿåº§çš„TLEè³‡æ–™
   - Starlink: 8,183é¡†è¡›æ˜Ÿ (æœ€æ–°20250902æ•¸æ“š)
   - OneWeb: 653é¡†è¡›æ˜Ÿ (æœ€æ–°20250903æ•¸æ“š)

2. **åŸå§‹æ•¸æ“šè¼‰å…¥**ï¼šè§£æTLEæ ¼å¼ä¸¦é©—è­‰æ•¸æ“šå®Œæ•´æ€§

3. **SGP4è»Œé“è¨ˆç®—**ï¼šåŸºæ–¼çœŸå¯¦ç‰©ç†æ¨¡å‹è¨ˆç®—è¡›æ˜Ÿè»Œé“
   - ä½¿ç”¨å®˜æ–¹SGP4æ¼”ç®—æ³•ï¼ˆéç°¡åŒ–ç‰ˆæœ¬ï¼‰
   - è¨ˆç®—å®Œæ•´è»Œé“é€±æœŸçš„ECIåº§æ¨™ï¼ˆStarlink: 96åˆ†é˜/192é»ã€OneWeb: 109åˆ†é˜/218é»ï¼‰
   - æ™‚é–“è§£æåº¦ï¼š30ç§’é–“éš”ï¼Œæ”¯æŒæ˜Ÿåº§ç‰¹å®šè»Œé“é€±æœŸ
   - **åƒ…è¼¸å‡º**ï¼šECIä½ç½® (`position_eci`)ã€ECIé€Ÿåº¦ (`velocity_eci`)ã€æ™‚é–“æˆ³

4. **è¨˜æ†¶é«”å‚³é**ï¼šå°‡çµæœç›´æ¥å‚³éçµ¦éšæ®µäºŒ

## ğŸ”§ æŠ€è¡“å¯¦ç¾ç´°ç¯€

### SGP4è¨ˆç®—ç²¾åº¦
- **æ¨™æº–éµå¾ª**ï¼šåš´æ ¼éµå¾ªå®˜æ–¹SGP4/SDP4æ¨™æº–
- **èª¤å·®æ§åˆ¶**ï¼šä½ç½®èª¤å·® < 1kmï¼ˆLEOè¡›æ˜Ÿï¼‰
- **æ™‚é–“ç²¾åº¦**ï¼šUTCæ™‚é–“ç²¾ç¢ºåˆ°ç§’ç´š

### ğŸš¨ **å¼·åˆ¶åŸå‰‡ï¼šå­¸è¡“ç´šæ•¸æ“šæ¨™æº–éµå¾ª** (Grade A ç­‰ç´š)

#### ğŸŸ¢ **Grade A å¼·åˆ¶è¦æ±‚ï¼šå¿…é ˆä½¿ç”¨çœŸå¯¦æ•¸æ“š**
- **âœ… TLEæ•¸æ“šæº**ï¼šSpace-Track.org å®˜æ–¹å¯¦æ™‚æ•¸æ“š
  - æ•¸æ“šæ›´æ–°é »ç‡ï¼šæ¯æ—¥æ›´æ–°ï¼Œçµ•ä¸å¯è¶…é7å¤©
  - æ ¼å¼æ¨™æº–ï¼šåš´æ ¼éµå¾ªNORADå…©è¡Œè»Œé“æ ¹æ•¸æ ¼å¼
  - æ•¸æ“šé©—è­‰ï¼šå¿…é ˆé€šéæ ¡é©—å’Œï¼ˆchecksumï¼‰é©—è­‰
- **âœ… è»Œé“è¨ˆç®—ç®—æ³•**ï¼šå®Œæ•´SGP4/SDP4å¯¦ç¾
  - ç®—æ³•æ¨™æº–ï¼šAIAA 2006-6753 "Revisiting Spacetrack Report #3"
  - å¯¦æ–½è¦æ±‚ï¼šä½¿ç”¨å®˜æ–¹SGP4å¯¦ç¾ï¼Œéç°¡åŒ–ç‰ˆæœ¬
  - ç²¾åº¦æ¨™æº–ï¼šä½ç½®èª¤å·® < 1kmï¼ˆLEOè¡›æ˜Ÿï¼‰
- **âœ… æ™‚é–“æ¨™æº–**ï¼šGPS/UTCæ¨™æº–æ™‚é–“
  - GPSæ™‚é–“ï¼šç²¾ç¢ºåˆ°å¾®ç§’ç´šåŒæ­¥
  - æ™‚é–“åŸºæº–ï¼šä½¿ç”¨TLE epochæ™‚é–“é€²è¡Œè¨ˆç®—
  - åŒæ­¥è¦æ±‚ï¼šé€šéNTPä¼ºæœå™¨åŒæ­¥

#### ğŸ”´ **Grade C åš´æ ¼ç¦æ­¢é …ç›®** (é›¶å®¹å¿)
- **âŒ é è¨­è»Œé“é€±æœŸå›é€€**ï¼šå¦‚96åˆ†é˜é è¨­å€¼ã€å¹³å‡è»Œé“é€±æœŸ
- **âŒ TLEæ•¸æ“šä¸å¯ç”¨æ™‚çš„å‡è¨­å€¼**ï¼šå¦‚å‡è¨­è¡›æ˜Ÿä½ç½®ã€ä¼°ç®—è»Œé“åƒæ•¸
- **âŒ ç°¡åŒ–è»Œé“è¨ˆç®—æ¨¡å‹**ï¼šå¦‚ç·šæ€§è»Œé“è¿‘ä¼¼ã€åœ“å½¢è»Œé“å‡è¨­
- **âŒ ä»»æ„æ™‚é–“å‡è¨­**ï¼šå¦‚ä½¿ç”¨ç³»çµ±ç•¶å‰æ™‚é–“æ›¿ä»£TLE epochæ™‚é–“
- **âŒ é­”è¡“æ•¸å­—**ï¼šä»»ä½•æ²’æœ‰ç‰©ç†ä¾æ“šå’Œæ¨™æº–æ–‡ç»æ”¯æŒçš„å¸¸æ•¸å€¼

#### ğŸš¨ **åŸ·è¡Œæª¢æŸ¥åŸå‰‡**
- **æ•¸æ“šä¸å¯ç”¨æ™‚çš„è™•ç†**ï¼šç³»çµ±å¿…é ˆå¤±æ•—é€€å‡ºï¼Œçµ•ä¸å…è¨±å›é€€åˆ°æ¨¡æ“¬æ•¸æ“š
- **éŒ¯èª¤è™•ç†ç­–ç•¥**ï¼šè¨˜éŒ„éŒ¯èª¤ä¸¦çµ‚æ­¢è™•ç†ï¼Œä¸å¾—ä½¿ç”¨ä¼°ç®—å€¼ç¹¼çºŒ
- **é©—è­‰è¦æ±‚**ï¼šæ‰€æœ‰è¨ˆç®—çµæœå¿…é ˆå¯é€šéç¨ç«‹SGP4å¯¦ç¾é©—è­‰
- **å¯è¿½æº¯æ€§**ï¼šæ¯å€‹æ•¸æ“šé»éƒ½å¿…é ˆæœ‰æ˜ç¢ºçš„TLEä¾†æºå’Œè¨ˆç®—ä¾æ“š

### ğŸ¯ æ•¸æ“šè¡€çµ±è¿½è¹¤ç³»çµ±ï¼ˆv3.1ï¼‰
- **TLEä¾†æºè¿½è¹¤**ï¼šæ¯é¡†è¡›æ˜Ÿè¨˜éŒ„å®Œæ•´çš„TLEæ–‡ä»¶ä¾†æºä¿¡æ¯
- **æ™‚é–“æˆ³åˆ†é›¢**ï¼šæ˜ç¢ºå€åˆ†æ•¸æ“šæ™‚é–“èˆ‡è™•ç†æ™‚é–“
- **è¡€çµ±å…ƒæ•¸æ“š**ï¼šåŒ…å«æ–‡ä»¶è·¯å¾‘ã€æ–‡ä»¶æ—¥æœŸã€epochæ™‚é–“ç­‰å®Œæ•´ä¿¡æ¯
- **æ•¸æ“šæ²»ç†æ¨™æº–**ï¼šç¬¦åˆæ•¸æ“šè¡€çµ±ç®¡ç†æœ€ä½³å¯¦è¸

```python
# æ•¸æ“šè¡€çµ±çµæ§‹ç¤ºä¾‹
satellite_data = {
    'tle_data': {
        'source_file': '/app/tle_data/starlink/tle/starlink_20250902.tle',
        'source_file_date': '20250902',  # TLEæ•¸æ“šå¯¦éš›æ—¥æœŸ
        'epoch_year': 2025,
        'epoch_day': 245.5,
        'calculation_base_time': '2025-09-02T12:00:00Z',  # TLE epochæ™‚é–“
        'data_lineage': {
            'data_source_date': '20250902',           # æ•¸æ“šä¾†æºæ—¥æœŸ
            'tle_epoch_date': '2025-09-02T12:00:00Z', # TLEåƒè€ƒæ™‚é–“
            'processing_execution_date': '2025-09-02T14:26:00Z', # è™•ç†åŸ·è¡Œæ™‚é–“
            'calculation_strategy': 'sgp4_with_tle_epoch_base'
        }
    }
}
```

### è¨˜æ†¶é«”ç®¡ç†
- **æ•¸æ“šçµæ§‹**ï¼šä½¿ç”¨é«˜æ•ˆçš„numpyé™£åˆ—
- **è¨˜æ†¶é«”ä½¿ç”¨**ï¼šå³°å€¼ç´„500MB
- **åƒåœ¾å›æ”¶**ï¼šè‡ªå‹•æ¸…ç†ä¸­é–“è¨ˆç®—çµæœ

## ğŸ“– **å­¸è¡“æ¨™æº–åƒè€ƒæ–‡ç»**

### è»Œé“åŠ›å­¸æ¨™æº–
- **AIAA 2006-6753**: "Revisiting Spacetrack Report #3" - SGP4/SDP4å®˜æ–¹å¯¦ç¾æ¨™æº–
- **NASA/TP-2010-216239**: "SGP4 Orbit Determination" - NASAè»Œé“è¨ˆç®—æŠ€è¡“å ±å‘Š
- **IERS Conventions (2010)**: åœ°çƒåƒè€ƒæ¡†æ¶å’Œæ™‚é–“ç³»çµ±æ¨™æº–

### æ•¸æ“šä¾†æºæ¨™æº–
- **Space-Track.org**: å®˜æ–¹NORAD TLEæ•¸æ“šä¾†æº (https://www.space-track.org/)
- **USSTRATCOM**: ç¾åœ‹æˆ°ç•¥å¸ä»¤éƒ¨è¡›æ˜Ÿè¿½è¹¤æ•¸æ“š
- **CelesTrak**: TLEæ•¸æ“šæ ¼å¼æ¨™æº–å’Œé©—è­‰å·¥å…·

### æ™‚é–“ç³»çµ±æ¨™æº–  
- **IERS Technical Note No. 36**: åœ°çƒå®šå‘åƒæ•¸å’Œæ™‚é–“ç³»çµ±
- **ITU-R Recommendation TF.460**: æ™‚é–“ä¿¡è™Ÿæ¨™æº–åŒ–
- **GPS Interface Specification**: GPSæ™‚é–“ç³»çµ±è¦ç¯„

### ç²¾åº¦é©—è­‰åŸºæº–
- **STK (Systems Tool Kit)**: å•†æ¥­è»Œé“è¨ˆç®—è»Ÿä»¶æ¯”è¼ƒåŸºæº–
- **GMAT (General Mission Analysis Tool)**: NASAé–‹æºè»Œé“åˆ†æå·¥å…·
- **Orekit**: é–‹æºè»Œé“åŠ›å­¸åº«é©—è­‰åƒè€ƒ

## âš™ï¸ é…ç½®åƒæ•¸

```python
# ä¸»è¦é…ç½®
TIME_WINDOW_HOURS = 6       # è¨ˆç®—æ™‚é–“ç¯„åœï¼ˆåŸºæ–¼è»Œé“é€±æœŸï¼‰
TIME_STEP_SECONDS = 30      # æ™‚é–“è§£æåº¦
# æ³¨æ„ï¼šéšæ®µä¸€ä¸è¨­å®šè§€æ¸¬é»åº§æ¨™ï¼Œç´”ç²¹è¨ˆç®—ECIè»Œé“æ•¸æ“š
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **TLEæ•¸æ“šéæœŸ**
   - æª¢æŸ¥ï¼šTLEæª”æ¡ˆæœ€å¾Œä¿®æ”¹æ™‚é–“
   - è§£æ±ºï¼šåŸ·è¡Œå¢é‡æ›´æ–°è…³æœ¬

2. **SGP4è¨ˆç®—å¤±æ•—**
   - æª¢æŸ¥ï¼šTLEæ ¼å¼å®Œæ•´æ€§
   - è§£æ±ºï¼šé‡æ–°ä¸‹è¼‰TLEæ•¸æ“š

3. **è¨˜æ†¶é«”ä¸è¶³**
   - æª¢æŸ¥ï¼šç³»çµ±å¯ç”¨è¨˜æ†¶é«”
   - è§£æ±ºï¼šå¢åŠ swapç©ºé–“æˆ–åˆ†æ‰¹è™•ç†

4. **ğŸ¯ æ•¸æ“šè¡€çµ±è¿½è¹¤å•é¡Œï¼ˆv3.1ï¼‰**
   - **ç—‡ç‹€**ï¼šæ•¸æ“šæ™‚é–“æˆ³èˆ‡è™•ç†æ™‚é–“æˆ³ç›¸åŒ
   - **æª¢æŸ¥**ï¼šè¼¸å‡ºmetadataä¸­çš„ `data_lineage` å­—æ®µ
   - **è§£æ±º**ï¼šç¢ºèªTLEæ–‡ä»¶æ—¥æœŸæ­£ç¢ºè§£æï¼Œé‡æ–°åŸ·è¡Œè™•ç†

### è¨ºæ–·æŒ‡ä»¤

```bash
# æª¢æŸ¥TLEæ•¸æ“šç‹€æ…‹
find /app/tle_data -name '*.tle' -exec ls -la {} \;

# é©—è­‰TLEè»Œé“è¨ˆç®—è™•ç†å™¨
python -c "from stages.tle_orbital_calculation_processor import Stage1TLEProcessor; print('TLEè»Œé“è¨ˆç®—è™•ç†å™¨æ­£å¸¸')"

# é©—è­‰SGP4å¼•æ“
python -c "from src.services.satellite.coordinate_specific_orbit_engine import *; print('SGP4å¼•æ“æ­£å¸¸')"

# ğŸ¯ é©—è­‰æ•¸æ“šè¡€çµ±è¿½è¹¤ï¼ˆv3.1ï¼‰
python -c "
import json
with open('/app/data/tle_orbital_calculation_output.json', 'r') as f:
    data = json.load(f)
    lineage = data['metadata']['data_lineage']
    print('ğŸ“Š æ•¸æ“šè¡€çµ±æª¢æŸ¥:')
    print(f'  TLEæ—¥æœŸ: {lineage.get(\"tle_dates\", {})}')
    print(f'  è™•ç†æ™‚é–“: {data[\"metadata\"][\"processing_timestamp\"]}')
    print('âœ… æ•¸æ“šè¡€çµ±è¿½è¹¤æ­£å¸¸' if lineage.get('tle_dates') else 'âŒ æ•¸æ“šè¡€çµ±è¿½è¹¤ç•°å¸¸')
"
```

## ğŸ¯ å­¸è¡“ç´šé©—è­‰å¯¦ç¾è¦ç¯„ (v2.1 æ–°å¢)

### é©—è­‰æ–¹æ³•å¯¦ç¾æ¨™æº–

**æ–°å¢é©—è­‰æ–¹æ³•å¯¦ç¾è¦æ±‚**:

```python
def _check_tle_epoch_compliance(self, results: Dict[str, Any]) -> bool:
    """TLE Epochæ™‚é–“åˆè¦æ€§æª¢æŸ¥"""
    # æª¢æŸ¥æ˜¯å¦ä½¿ç”¨TLE epochæ™‚é–“ä½œç‚ºè¨ˆç®—åŸºæº–
    # é©—è­‰æ™‚é–“å·®ä¸è¶…é7å¤© (TLEæ•¸æ“šæ™‚æ•ˆæ€§)
    # ç¢ºä¿æ²’æœ‰ä½¿ç”¨datetime.now()é€²è¡Œè»Œé“è¨ˆç®—
    
def _check_constellation_orbital_parameters(self, results: Dict[str, Any]) -> bool:
    """æ˜Ÿåº§ç‰¹å®šè»Œé“åƒæ•¸æª¢æŸ¥"""  
    # Starlink: 550Â±50kmé«˜åº¦, 53Â±2Â°å‚¾è§’, 95-97åˆ†é˜é€±æœŸ
    # OneWeb: 1200Â±50kmé«˜åº¦, 87Â±2Â°å‚¾è§’, 108-110åˆ†é˜é€±æœŸ
    
def _check_sgp4_calculation_precision(self, results: Dict[str, Any]) -> bool:
    """SGP4è¨ˆç®—ç²¾åº¦é©—è­‰"""
    # ä½ç½®ç²¾åº¦ <1km, é€Ÿåº¦ç²¾åº¦ <10m/s
    # ç„¡NaN/Infå€¼, ECIåº§æ¨™åˆç†ç¯„åœæª¢æŸ¥
    
def _check_data_lineage_completeness(self, results: Dict[str, Any]) -> bool:
    """æ•¸æ“šè¡€çµ±å®Œæ•´æ€§æª¢æŸ¥"""
    # TLEä¾†æºæ–‡ä»¶å®Œæ•´è¨˜éŒ„
    # æ™‚é–“æˆ³åˆ†é›¢æª¢æŸ¥: TLEæ—¥æœŸ â‰  è™•ç†æ—¥æœŸ
```

### ğŸ”¥ Critical Validation Standards (é›¶å®¹å¿åŸå‰‡)

**Time Base Validation (æ™‚é–“åŸºæº–é©—è­‰)**:
```python
# âœ… æ­£ç¢ºçš„æ™‚é–“åŸºæº–æª¢æŸ¥
def validate_time_base_compliance(tle_epoch_time, calculation_base_time):
    assert calculation_base_time == tle_epoch_time, \
        f"æ™‚é–“åŸºæº–éŒ¯èª¤: ä½¿ç”¨{calculation_base_time}, æ‡‰ä½¿ç”¨TLE epoch {tle_epoch_time}"
    
# âŒ åš´æ ¼ç¦æ­¢çš„æ™‚é–“åŸºæº–
forbidden_time_patterns = [
    "datetime.now()", "time.time()", "current_time", 
    "system_time", "processing_time"
]
```

**Constellation Parameters Validation (æ˜Ÿåº§åƒæ•¸é©—è­‰)**:
```python
# Starlink æ¨™æº–åƒæ•¸ç¯„åœ
STARLINK_VALIDATION = {
    "altitude_km": (500, 600),      # è»Œé“é«˜åº¦
    "inclination_deg": (51, 55),    # è»Œé“å‚¾è§’  
    "period_minutes": (94, 98),     # è»Œé“é€±æœŸ
    "time_points": 192              # æ™‚é–“åºåˆ—é»æ•¸
}

# OneWeb æ¨™æº–åƒæ•¸ç¯„åœ  
ONEWEB_VALIDATION = {
    "altitude_km": (1150, 1250),    # è»Œé“é«˜åº¦
    "inclination_deg": (85, 90),    # è»Œé“å‚¾è§’
    "period_minutes": (107, 111),   # è»Œé“é€±æœŸ
    "time_points": 218              # æ™‚é–“åºåˆ—é»æ•¸
}
```

## âœ… éšæ®µé©—è­‰æ¨™æº–

### ğŸ¯ Stage 1 å®Œæˆé©—è­‰æª¢æŸ¥æ¸…å–® (æ›´æ–°è‡³10é …æª¢æŸ¥)

#### 1. **è¼¸å…¥é©—è­‰**
- [ ] TLEæ–‡ä»¶å­˜åœ¨æ€§æª¢æŸ¥
  - Starlink TLEæ–‡ä»¶: `/app/tle_data/starlink/tle/*.tle`
  - OneWeb TLEæ–‡ä»¶: `/app/tle_data/oneweb/tle/*.tle`
- [ ] TLEæ ¼å¼é©—è­‰
  - æ¯å€‹TLEå¿…é ˆåŒ…å«3è¡Œï¼ˆè¡›æ˜Ÿåç¨±ã€Line 1ã€Line 2ï¼‰
  - Line 1/2 å¿…é ˆå„ç‚º69å­—å…ƒ
  - æ ¡é©—å’Œï¼ˆchecksumï¼‰æ­£ç¢º
- [ ] TLEå®Œæ•´æ€§æª¢æŸ¥
  - TLE epochæ™‚é–“å¿…é ˆå­˜åœ¨ä¸”å¯è§£æ
  - æ³¨æ„ï¼šæˆ‘å€‘è¨ˆç®—TLE epochç•¶å¤©çš„è»Œé“ï¼Œä¸å­˜åœ¨æ™‚æ•ˆæ€§å•é¡Œ

#### 2. **è™•ç†é©—è­‰** (å­¸è¡“ç´š10é …æª¢æŸ¥)

**åŸºç¤é©—è­‰ (åŸæœ‰6é …)**:
- [ ] **data_structure_check** - æ•¸æ“šçµæ§‹å®Œæ•´æ€§
- [ ] **satellite_count_check** - è¡›æ˜Ÿæ•¸é‡æª¢æŸ¥ (8,750-9,000é¡†)
- [ ] **orbital_position_check** - SGP4è»Œé“ä½ç½®è¨ˆç®—æª¢æŸ¥
- [ ] **metadata_completeness_check** - å…ƒæ•¸æ“šå®Œæ•´æ€§æª¢æŸ¥  
- [ ] **academic_compliance_check** - å­¸è¡“æ¨™æº–åˆè¦æ€§æª¢æŸ¥
- [ ] **time_series_continuity_check** - æ™‚é–“åºåˆ—é€£çºŒæ€§æª¢æŸ¥

**æ–°å¢å­¸è¡“ç´šé©—è­‰ (æ–°å¢4é …)**:
- [ ] **tle_epoch_compliance_check** - TLE Epochæ™‚é–“åˆè¦æ€§æª¢æŸ¥
  - TLEæ•¸æ“šæ™‚æ•ˆæ€§æª¢æŸ¥ (<7å¤©)
  - æ™‚é–“åŸºæº–ä¸€è‡´æ€§é©—è­‰ (å¿…é ˆä½¿ç”¨TLE epochæ™‚é–“)
  - ç¦æ­¢ä½¿ç”¨ç³»çµ±ç•¶å‰æ™‚é–“é€²è¡Œè»Œé“è¨ˆç®—
  
- [ ] **constellation_orbital_parameters_check** - æ˜Ÿåº§ç‰¹å®šè»Œé“åƒæ•¸æª¢æŸ¥
  - Starlink: è»Œé“é«˜åº¦500-600km, å‚¾è§’51-55Â°, é€±æœŸ94-98åˆ†é˜
  - OneWeb: è»Œé“é«˜åº¦1150-1250km, å‚¾è§’85-90Â°, é€±æœŸ107-111åˆ†é˜
  - æ˜Ÿåº§ç‰¹å®šæ™‚é–“é»æ•¸: Starlink=192é», OneWeb=218é»
  
- [ ] **sgp4_calculation_precision_check** - SGP4è¨ˆç®—ç²¾åº¦é©—è­‰
  - ä½ç½®ç²¾åº¦ <1km, é€Ÿåº¦ç²¾åº¦ <10m/s
  - ç„¡NaN/Infå€¼æª¢æŸ¥
  - ECIåº§æ¨™åˆç†ç¯„åœé©—è­‰
  
- [ ] **data_lineage_completeness_check** - æ•¸æ“šè¡€çµ±å®Œæ•´æ€§æª¢æŸ¥
  - TLEä¾†æºæ–‡ä»¶è·¯å¾‘å®Œæ•´è¨˜éŒ„
  - æ™‚é–“æˆ³æ­£ç¢ºåˆ†é›¢ (TLEæ—¥æœŸ â‰  è™•ç†æ—¥æœŸ)
  - å®Œæ•´è¡€çµ±è¿½è¹¤å…ƒæ•¸æ“šå­˜åœ¨

#### 3. **è¼¸å‡ºé©—è­‰**
- [ ] **æ•¸æ“šçµæ§‹å®Œæ•´æ€§**
  ```json
  {
    "stage_name": "SGP4è»Œé“è¨ˆç®—èˆ‡æ™‚é–“åºåˆ—ç”Ÿæˆ",
    "satellites": [...],  // æ‰å¹³è¡›æ˜Ÿåˆ—è¡¨ï¼ˆ8837å€‹å…ƒç´ ï¼‰
    "metadata": {
      "total_satellites": 8837,  // å¿…é ˆ > 8750
      "constellations": {
        "starlink": {"satellite_count": 8183},
        "oneweb": {"satellite_count": 653}
      },
      "data_lineage": {
        "tle_dates": {"starlink": "20250902", "oneweb": "20250903"},
        "processing_timeline": {...}
      }
    }
  }
  ```
- [ ] **æ™‚é–“åºåˆ—æ•¸æ“šé©—è­‰**
  - æ¯é¡†è¡›æ˜ŸåŒ…å« `position_timeseries` é™£åˆ—
  - æ™‚é–“åºåˆ—é•·åº¦ = 192é»ï¼ˆæˆ–é…ç½®å€¼ï¼‰
  - æ¯å€‹æ™‚é–“é»åŒ…å«ï¼štimestamp, position_eci, velocity_eci
  - **ä¸åŒ…å«**ï¼šelevation_deg, azimuth_deg, is_visibleï¼ˆé€™äº›ç”±éšæ®µäºŒè¨ˆç®—ï¼‰
- [ ] **æ•¸æ“šè¡€çµ±è¿½è¹¤ï¼ˆv3.1ï¼‰**
  - TLEæ•¸æ“šæ—¥æœŸæ­£ç¢ºè¨˜éŒ„
  - è™•ç†æ™‚é–“æˆ³èˆ‡æ•¸æ“šæ™‚é–“æˆ³åˆ†é›¢
  - å®Œæ•´çš„è¡€çµ±å…ƒæ•¸æ“š

#### 4. **æ€§èƒ½æŒ‡æ¨™**
- [ ] è™•ç†æ™‚é–“ < 3åˆ†é˜ï¼ˆå…¨é‡8,837é¡†è¡›æ˜Ÿï¼Œå¯¦æ¸¬ç´„2.8åˆ†é˜ï¼‰
- [ ] è¨˜æ†¶é«”å‚³éæˆåŠŸï¼ˆç„¡å¤§æª”æ¡ˆç”Ÿæˆï¼‰
- [ ] CPUä½¿ç”¨ç‡å³°å€¼ < 80%

#### 5. **è‡ªå‹•é©—è­‰è…³æœ¬**
```python
# åŸ·è¡Œéšæ®µé©—è­‰
python -c "
import json
import sys

# è¼‰å…¥è¼¸å‡ºæ•¸æ“š
try:
    with open('/app/data/tle_orbital_calculation_output.json', 'r') as f:
        data = json.load(f)
except FileNotFoundError:
    print('âš ï¸ ä½¿ç”¨è¨˜æ†¶é«”å‚³éæ¨¡å¼ï¼Œè·³éæ–‡ä»¶é©—è­‰')
    sys.exit(0)

# é©—è­‰é …ç›®
metadata = data.get('metadata', {})
satellites = data.get('satellites', [])
constellations = metadata.get('constellations', {})

# ğŸ¯ å­¸è¡“ç´š10é …é©—è­‰æª¢æŸ¥ (å°æ‡‰è™•ç†å™¨ä¸­çš„æª¢æŸ¥)
validation_result = data.get('validation', {})
all_checks = validation_result.get('allChecks', {})

# åŸºç¤é©—è­‰æª¢æŸ¥ (6é …)
basic_checks = {
    'data_structure_check': all_checks.get('data_structure_check', False),
    'satellite_count_check': all_checks.get('satellite_count_check', False),
    'orbital_position_check': all_checks.get('orbital_position_check', False), 
    'metadata_completeness_check': all_checks.get('metadata_completeness_check', False),
    'academic_compliance_check': all_checks.get('academic_compliance_check', False),
    'time_series_continuity_check': all_checks.get('time_series_continuity_check', False)
}

# æ–°å¢å­¸è¡“ç´šé©—è­‰æª¢æŸ¥ (4é …)  
enhanced_checks = {
    'tle_epoch_compliance_check': all_checks.get('tle_epoch_compliance_check', False),
    'constellation_orbital_parameters_check': all_checks.get('constellation_orbital_parameters_check', False),
    'sgp4_calculation_precision_check': all_checks.get('sgp4_calculation_precision_check', False),
    'data_lineage_completeness_check': all_checks.get('data_lineage_completeness_check', False)
}

# åˆä½µå…¨éƒ¨10é …æª¢æŸ¥
checks = {**basic_checks, **enhanced_checks}

# è¨ˆç®—é€šéç‡
passed = sum(checks.values())
total = len(checks)

print('ğŸ“Š Stage 1 å­¸è¡“ç´šé©—è­‰çµæœ (10é …æª¢æŸ¥):')
print(f'  é©—è­‰ç¸½æ•¸: {validation_result.get(\"totalChecks\", 0)}')
print(f'  é€šéæª¢æŸ¥: {validation_result.get(\"passedChecks\", 0)}')
print(f'  å¤±æ•—æª¢æŸ¥: {validation_result.get(\"failedChecks\", 0)}')
print(f'  é©—è­‰ç­‰ç´š: {validation_result.get(\"validation_level_info\", {}).get(\"level\", \"N/A\")}')
print(f'  å­¸è¡“è©•ç´š: {validation_result.get(\"validation_level_info\", {}).get(\"academic_grade\", \"N/A\")}')
print()

# é¡¯ç¤ºåŸºç¤é©—è­‰çµæœ (6é …)
print('ğŸ”§ åŸºç¤é©—è­‰æª¢æŸ¥ (6é …):')
for check, result in basic_checks.items():
    print(f'  {\"âœ…\" if result else \"âŒ\"} {check}')

print()
# é¡¯ç¤ºå¢å¼·é©—è­‰çµæœ (4é …)  
print('ğŸ“ å­¸è¡“ç´šå¢å¼·é©—è­‰ (4é …):')
for check, result in enhanced_checks.items():
    print(f'  {\"âœ…\" if result else \"âŒ\"} {check}')

print(f'\\nğŸ“ˆ ç¸½é«”é€šéç‡: {passed}/{total} ({passed/total*100:.1f}%)')

if passed == total:
    print('ğŸ‰ Stage 1 å­¸è¡“ç´šé©—è­‰å®Œå…¨é€šéï¼')
else:
    failed_checks = [check for check, result in checks.items() if not result]
    print(f'âŒ Stage 1 é©—è­‰æœªå®Œå…¨é€šéï¼Œå¤±æ•—æª¢æŸ¥: {failed_checks}')
    sys.exit(1)
"
```

### ğŸš¨ é©—è­‰å¤±æ•—è™•ç†
1. **æ•¸é‡ä¸è¶³**ï¼šæª¢æŸ¥TLEæ–‡ä»¶æ˜¯å¦å®Œæ•´
2. **SGP4å¤±æ•—**ï¼šé©—è­‰TLEæ ¼å¼ï¼Œæ›´æ–°skyfieldåº«
3. **è¡€çµ±ç¼ºå¤±**ï¼šç¢ºèªä½¿ç”¨v3.1ç‰ˆæœ¬è™•ç†å™¨
4. **è¨˜æ†¶é«”æº¢å‡º**ï¼šå•Ÿç”¨åˆ†æ‰¹è™•ç†æ¨¡å¼

---
**ä¸‹ä¸€è™•ç†å™¨**: [è»Œé“è¨ˆç®—å±¤](./stage2-filtering.md)  
**ç›¸é—œæ–‡æª”**: [Pure Cronæ¶æ§‹](../data_processing_flow.md#pure-croné©…å‹•æ¶æ§‹)
