# LEO衛星時空錯置動態池規劃與換手優化研究

## 核心目標

### 🎯 基礎衛星池規劃需求
1. **地理定位**: NTPU 座標 24°56'39"N 121°22'17"E
2. **可見性篩選**: 排除永遠不會出現在 NTPU 上空的衛星
3. **時空錯置篩選**: 錯開時間和位置的衛星選擇
4. **衛星池規劃**:
   - Starlink: 保持 10-15 顆衛星 (5度仰角閾值)
   - OneWeb: 保持 3-6 顆衛星 (10度仰角閾值)
5. **動態覆蓋**: 整個軌道週期中持續保持上述衛星數量
6. **數據來源**: @netstack/tle_data 2個星座最新的數據

### 🛰️ 3GPP NTN換手事件支援需求 (基於TS 38.331標準)
7. **A4事件數據支援**: 鄰近衛星變得優於門檻值 (Neighbour becomes better than threshold)
   - 觸發條件: Mn + Ofn + Ocn – Hys > Thresh (進入條件)
   - 標準依據: 3GPP TS 38.331 v18.5.1 Section 5.5.4.5
   - 用途: 識別潛在換手候選衛星，當鄰近衛星信號品質超過配置門檻
   - 測量: RSRP (dBm), RSRQ/RS-SINR (dB)

8. **A5事件數據支援**: 服務衛星劣於門檻1且鄰近衛星優於門檻2
   - 觸發條件: (Mp + Hys < Thresh1) AND (Mn + Ofn + Ocn – Hys > Thresh2)
   - 標準依據: 3GPP TS 38.331 v18.5.1 Section 5.5.4.6  
   - 用途: 雙門檻換手決策，同時監控服務衛星劣化和鄰近衛星改善
   - 測量: Mp/Mn為RSRP (dBm)或RSRQ/RS-SINR (dB)

9. **D2事件數據支援**: UE與服務衛星距離超過門檻1且與候選衛星距離低於門檻2
   - 觸發條件: (Ml1 – Hys > Thresh1) AND (Ml2 + Hys < Thresh2)
   - 標準依據: 3GPP TS 38.331 v18.5.1 Section 5.5.4.15a
   - 用途: 基於衛星移動軌跡的距離換手，適用於LEO高速移動場景
   - 測量: 距離測量 (米)，基於衛星星歷和移動參考位置

### 🤖 強化學習換手優化需求
10. **訓練數據生成**:
    - 狀態空間: 衛星位置、信號強度、仰角、距離等多維狀態
    - 動作空間: 換手決策(保持/切換至候選衛星1/2/3...)
    - 獎勵函數: 基於QoS、中斷時間、信號品質的複合獎勵
    - 經驗回放: 大量真實換手場景存儲供算法學習

11. **多算法支援**:
    - DQN (Deep Q-Network): 離散動作空間的換手決策
    - A3C (Asynchronous Actor-Critic): 並行學習多種換手策略  
    - PPO (Proximal Policy Optimization): 穩定的策略梯度優化
    - SAC (Soft Actor-Critic): 連續控制的換手參數調優

12. **實時決策支援**:
    - 毫秒級響應: 支援真實時間的換手決策推理
    - 多候選評估: 同時評估3-5個換手候選的優劣
    - 自適應門檻: 根據環境動態調整RSRP/距離門檻

## 🎯 預期成果

### 研究環境完整性
- ✅ 連續不間斷的衛星覆蓋環境 (95%+ 覆蓋率)
- ✅ 豐富的3GPP標準換手事件場景 (50+ 不同場景)
- ✅ 多樣化的強化學習訓練樣本
- ✅ 真實軌道動力學基礎的學術研究數據

### 技術指標達成
- 🛰️ Starlink時空錯置池: 10-15顆連續可見
- 🛰️ OneWeb時空錯置池: 3-6顆連續可見  
- ⏱️ 軌道週期完整覆蓋: 無服務中斷空窗
- 📊 換手決策延遲: < 100ms 實時響應